import{r as m,c as te,a as se,b as W}from"./vendor-e27cf504.js";import{L as k,u as U,a as ae,R as re,b as E,B as ne}from"./router-11b2bb96.js";import{p as $,D as le,P as R}from"./pdf-4d2022af.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function a(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=a(o);fetch(o.href,i)}})();var q={exports:{}},D={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oe=m,ie=Symbol.for("react.element"),ce=Symbol.for("react.fragment"),de=Object.prototype.hasOwnProperty,ue=oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xe={key:!0,ref:!0,__self:!0,__source:!0};function Z(t,s,a){var r,o={},i=null,n=null;a!==void 0&&(i=""+a),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(n=s.ref);for(r in s)de.call(s,r)&&!xe.hasOwnProperty(r)&&(o[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:ie,type:t,key:i,ref:n,props:o,_owner:ue.current}}D.Fragment=ce;D.jsx=Z;D.jsxs=Z;q.exports=D;var e=q.exports,L={},_=te;L.createRoot=_.createRoot,L.hydrateRoot=_.hydrateRoot;const B=t=>{let s;const a=new Set,r=(y,g)=>{const p=typeof y=="function"?y(s):y;if(!Object.is(p,s)){const h=s;s=g??(typeof p!="object"||p===null)?p:Object.assign({},s,p),a.forEach(l=>l(s,h))}},o=()=>s,u={setState:r,getState:o,getInitialState:()=>c,subscribe:y=>(a.add(y),()=>a.delete(y)),destroy:()=>{a.clear()}},c=s=t(r,o,u);return u},me=t=>t?B(t):B;var K={exports:{}},Y={},G={exports:{}},J={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M=m;function ge(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var he=typeof Object.is=="function"?Object.is:ge,fe=M.useState,pe=M.useEffect,ye=M.useLayoutEffect,be=M.useDebugValue;function ve(t,s){var a=s(),r=fe({inst:{value:a,getSnapshot:s}}),o=r[0].inst,i=r[1];return ye(function(){o.value=a,o.getSnapshot=s,z(o)&&i({inst:o})},[t,a,s]),pe(function(){return z(o)&&i({inst:o}),t(function(){z(o)&&i({inst:o})})},[t]),be(a),a}function z(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!he(t,a)}catch{return!0}}function je(t,s){return s()}var we=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?je:ve;J.useSyncExternalStore=M.useSyncExternalStore!==void 0?M.useSyncExternalStore:we;G.exports=J;var Ne=G.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C=m,Se=Ne;function Pe(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var ke=typeof Object.is=="function"?Object.is:Pe,Me=Se.useSyncExternalStore,$e=C.useRef,Ee=C.useEffect,De=C.useMemo,Ce=C.useDebugValue;Y.useSyncExternalStoreWithSelector=function(t,s,a,r,o){var i=$e(null);if(i.current===null){var n={hasValue:!1,value:null};i.current=n}else n=i.current;i=De(function(){function u(h){if(!c){if(c=!0,y=h,h=r(h),o!==void 0&&n.hasValue){var l=n.value;if(o(l,h))return g=l}return g=h}if(l=g,ke(y,h))return l;var x=r(h);return o!==void 0&&o(l,x)?(y=h,l):(y=h,g=x)}var c=!1,y,g,p=a===void 0?null:a;return[function(){return u(s())},p===null?void 0:function(){return u(p())}]},[s,a,r,o]);var d=Me(t,i[0],i[1]);return Ee(function(){n.hasValue=!0,n.value=d},[d]),Ce(d),d};K.exports=Y;var Re=K.exports;const ze=se(Re),{useDebugValue:Ie}=W,{useSyncExternalStoreWithSelector:Le}=ze;const Oe=t=>t;function Fe(t,s=Oe,a){const r=Le(t.subscribe,t.getState,t.getServerState||t.getInitialState,s,a);return Ie(r),r}const A=t=>{const s=typeof t=="function"?me(t):t,a=(r,o)=>Fe(s,r,o);return Object.assign(a,s),a},Ve=t=>t?A(t):A,I={currentPage:1,totalPages:0,scale:1,isFullscreen:!1,isLoading:!1,viewMode:"single",spreadMode:!1},w=Ve((t,s)=>({books:[],magazines:[],settings:null,currentBook:null,currentMagazine:null,viewerState:I,setBooks:a=>t({books:a}),setMagazines:a=>t({magazines:a}),setSettings:a=>t({settings:a}),setCurrentBook:a=>t({currentBook:a,currentMagazine:null,viewerState:{...I}}),setCurrentMagazine:a=>t({currentMagazine:a,currentBook:null,viewerState:{...I}}),updateViewerState:a=>t(r=>({viewerState:{...r.viewerState,...a}})),nextPage:()=>{const{viewerState:a}=s(),r=a.viewMode==="double"?2:1;a.currentPage+r<=a.totalPages&&t(o=>({viewerState:{...o.viewerState,currentPage:o.viewerState.currentPage+r}}))},prevPage:()=>{const{viewerState:a}=s(),r=a.viewMode==="double"?2:1;a.currentPage-r>=1&&t(o=>({viewerState:{...o.viewerState,currentPage:Math.max(1,o.viewerState.currentPage-r)}}))},goToPage:a=>{const{viewerState:r}=s();a>=1&&a<=r.totalPages&&t(o=>({viewerState:{...o.viewerState,currentPage:a}}))},zoomIn:()=>{const{viewerState:a}=s(),r=Math.min(a.scale+.25,3);t(o=>({viewerState:{...o.viewerState,scale:r}}))},zoomOut:()=>{const{viewerState:a}=s(),r=Math.max(a.scale-.25,.5);t(o=>({viewerState:{...o.viewerState,scale:r}}))},resetZoom:()=>{t(a=>({viewerState:{...a.viewerState,scale:1}}))},toggleViewMode:()=>{t(a=>({viewerState:{...a.viewerState,viewMode:a.viewerState.viewMode==="single"?"double":"single",currentPage:a.viewerState.viewMode==="single"?Math.max(1,a.viewerState.currentPage-1):a.viewerState.currentPage%2===0?a.viewerState.currentPage-1:a.viewerState.currentPage}}))},setViewMode:a=>{t(r=>({viewerState:{...r.viewerState,viewMode:a,currentPage:a==="double"&&r.viewerState.currentPage%2===0?Math.max(1,r.viewerState.currentPage-1):r.viewerState.currentPage}}))}}));/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),v=(t,s)=>{const a=m.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:d="",children:u,...c},y)=>m.createElement("svg",{ref:y,..._e,width:o,height:o,stroke:r,strokeWidth:n?Number(i)*24/Number(o):i,className:["lucide",`lucide-${Be(t)}`,d].join(" "),...c},[...s.map(([g,p])=>m.createElement(g,p)),...Array.isArray(u)?u:[u]]));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=v("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=v("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=v("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=v("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=v("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=v("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=v("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=v("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=v("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=v("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=v("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=v("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=v("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=v("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=v("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=v("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=v("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Xe=t=>{var n;const a=(((n=t.split("/").pop())==null?void 0:n.replace(".pdf",""))||"").trim();console.log(`🔍 [${a}] PDF 파일명에서 썸네일 경로 생성 중...`),console.log(`📄 원본 PDF 경로: ${t}`),console.log(`📝 추출된 파일명: "${a}"`);const r=["png","jpg","jpeg","webp"],o=["_1","","_thumb","_thumbnail"],i=[];for(const d of o)for(const u of r){const c=`/thumbnails/${a}${d}.${u}`;i.push(c)}return console.log(`🎯 [${a}] 생성된 썸네일 경로 목록 (${i.length}개):`),i.forEach((d,u)=>{console.log(`   ${u+1}. ${d}`)}),i},H=async t=>{try{return console.log(`🔗 이미지 존재 확인 중: ${t}`),new Promise(s=>{const a=new Image;a.onload=()=>{console.log(`✅ ${t} - 이미지 로드 성공`),s(!0)},a.onerror=()=>{console.log(`❌ ${t} - 이미지 로드 실패`),s(!1)},a.src=t})}catch(s){return console.log(`❌ ${t} - 네트워크 오류:`,s),!1}},ee=({book:t,onThumbnailGenerated:s})=>{const[a,r]=m.useState(null),[o,i]=m.useState(!1),[n,d]=m.useState(!0),[u,c]=m.useState("");return m.useEffect(()=>{(async()=>{var h;const g=t.title||t.id;if(console.log(`
🚀 [${g}] 썸네일 검색 시작`),console.log(`📚 Book ID: ${t.id}`),console.log(`📖 Book Title: ${t.title}`),console.log(`📁 PDF Path: ${t.pdfPath}`),console.log(`🖼️ Cover Image: ${t.coverImage}`),d(!0),i(!1),c("썸네일 검색 중..."),t.coverImage&&t.coverImage!=="auto-generated"&&!t.coverImage.includes("default-cover"))if(console.log(`📋 [${g}] 기존 표지 이미지 확인: ${t.coverImage}`),await H(t.coverImage)){console.log(`✅ [${g}] 기존 표지 이미지 사용: ${t.coverImage}`),r(t.coverImage),d(!1),c(`기존 표지 사용: ${t.coverImage.split("/").pop()}`),s&&s(t.id,t.coverImage);return}else console.log(`⚠️ [${g}] 기존 표지 이미지 없음, 자동 검색으로 전환`);console.log(`🔍 [${g}] 자동 썸네일 검색 시작`);const p=Xe(t.pdfPath);for(let l=0;l<p.length;l++){const x=p[l];if(console.log(`🎯 [${g}] ${l+1}/${p.length} 검사 중: ${x}`),c(`검사 중 (${l+1}/${p.length}): ${x.split("/").pop()}`),await H(x)){console.log(`🎉 [${g}] 썸네일 발견! ${x}`),r(x),d(!1),c(`썸네일 발견: ${x.split("/").pop()}`),s&&s(t.id,x);return}await new Promise(S=>setTimeout(S,100))}console.log(`😞 [${g}] 썸네일을 찾을 수 없습니다.`),console.log(`📂 확인된 경로: ${p.length}개`),console.log("📋 실제 썸네일 폴더 내용을 확인해주세요: /public/thumbnails/"),console.log(`🔗 직접 테스트: http://localhost:5173/pdf-ebook-viewer/thumbnails/${(h=t.pdfPath.split("/").pop())==null?void 0:h.replace(".pdf","")}_1.png`),r(null),d(!1),c("썸네일 없음 - 콘솔 확인")})()},[t.pdfPath,t.coverImage,t.id,s]),n?e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-blue-50 border border-blue-200",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mb-2"}),e.jsx("span",{className:"text-xs text-blue-600 text-center px-2",children:"썸네일 검색 중..."}),e.jsx("span",{className:"text-xs text-blue-400 mt-1 text-center px-2",children:u})]}):a&&!o?e.jsxs("div",{className:"w-full h-full relative",children:[e.jsx("img",{src:a,alt:t.title,className:"w-full h-full object-cover",onError:()=>{console.log(`❌ 이미지 로드 실패: ${a}`),i(!0),c("이미지 로드 실패")},onLoad:()=>{console.log(`✅ 이미지 로드 성공: ${a}`),s&&a&&s(t.id,a)}}),!1]}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-b from-red-50 to-red-100 text-red-400 border border-red-200",children:[e.jsx("svg",{className:"w-12 h-12 mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"})}),e.jsx("span",{className:"text-xs text-center px-2 font-medium",children:"표지 없음"}),e.jsx("span",{className:"text-xs text-red-300 mt-1 text-center px-2 break-all",children:u}),!1]})},et=()=>{const{books:t}=w(),[,s]=m.useState({}),a=(r,o)=>{s(i=>({...i,[r]:o}))};return t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(O,{size:64,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-2",children:"책이 없습니다"}),e.jsx("p",{className:"text-gray-500",children:"PDF 파일을 추가해주세요."})]}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"나의 도서관"}),e.jsxs("p",{className:"text-gray-600",children:[t.length,"권의 책이 있습니다"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(r=>e.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-300",children:[e.jsx("div",{className:"aspect-[3/4] bg-gray-200 rounded-lg mb-4 flex items-center justify-center overflow-hidden",children:e.jsx(ee,{book:r,onThumbnailGenerated:a})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-800 line-clamp-2",children:r.title}),e.jsx("p",{className:"text-sm text-gray-600",children:r.author}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:r.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(F,{size:14}),e.jsxs("span",{children:[r.pageCount,"페이지"]})]}),r.fileSize&&e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("span",{children:r.fileSize})})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[e.jsx(Q,{size:14}),e.jsx("span",{children:r.publishDate})]}),r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:r.tags.slice(0,3).map((o,i)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:[e.jsx(Ge,{size:10,className:"mr-1"}),o]},i))})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx(k,{to:`/viewer/${r.id}`,className:"btn-primary w-full text-center block",children:"읽기 시작"})})]},r.id))})]})},tt=()=>{const{magazines:t,settings:s}=w(),[a,r]=m.useState("all"),[o,i]=m.useState("all"),n=t.filter(l=>{const x=a==="all"||l.year===a,N=o==="all"||l.season===o;return x&&N}),d=[...new Set(t.map(l=>l.year))].sort((l,x)=>x-l),u=s!=null&&s.seasons?Object.values(s.seasons):[],c=n.find(l=>l.isLatest),y=n.filter(l=>l.featured&&!l.isLatest),g=n.filter(l=>!l.isLatest&&!l.featured),p=l=>({봄:"bg-green-100 text-green-800 border-green-200",여름:"bg-orange-100 text-orange-800 border-orange-200",가을:"bg-amber-100 text-amber-800 border-amber-200",겨울:"bg-blue-100 text-blue-800 border-blue-200"})[l]||"bg-gray-100 text-gray-800 border-gray-200",h=({magazine:l,isLatest:x=!1,isFeatured:N=!1})=>e.jsxs("div",{className:`card hover:shadow-xl transition-all duration-300 relative overflow-hidden ${x?"ring-2 ring-blue-500 shadow-lg":N?"ring-1 ring-orange-400":""}`,children:[x&&e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsxs("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center",children:[e.jsx(T,{size:14,className:"mr-1"}),"최신호"]})}),N&&!x&&e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsx("span",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:"추천"})}),e.jsxs("div",{className:"aspect-[3/4] bg-gray-200 rounded-lg mb-4 overflow-hidden relative",children:[e.jsx(ee,{book:{id:l.id,title:l.title,author:"서울사대부고 동창회",description:l.description,coverImage:l.coverImage,pdfPath:l.pdfPath,pageCount:l.pageCount,category:l.category,publishDate:l.publishDate,tags:l.tags,fileSize:l.fileSize}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 hover:opacity-100 transition-opacity duration-300",children:e.jsx(k,{to:`/viewer/${l.id}`,className:"bg-white text-gray-800 px-4 py-2 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:"📖 읽기"})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${p(l.season)}`,children:[l.year,"년 ",l.season,"호"]}),e.jsxs("span",{className:"text-sm font-mono text-gray-500",children:["#",l.issue]})]}),e.jsxs("h3",{className:"font-bold text-lg text-gray-800 leading-tight",children:[l.year,"년 ",l.season,"호"]})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:l.description}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Q,{size:14}),e.jsx("span",{children:new Date(l.publishDate).toLocaleDateString("ko-KR")})]}),l.pageCount>0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(F,{size:14}),e.jsxs("span",{children:[l.pageCount,"페이지"]})]})]}),l.fileSize&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ue,{size:14}),e.jsx("span",{children:l.fileSize})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[e.jsx(He,{size:12}),e.jsxs("span",{children:["약 ",Math.max(1,Math.ceil((l.pageCount||0)/5)),"분 소요"]})]})]})]}),l.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:l.tags.slice(0,3).map((S,j)=>e.jsxs("span",{className:"inline-block px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-md",children:["#",S]},j))}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsx(k,{to:`/viewer/${l.id}`,className:"btn-primary w-full text-center block",children:x?"최신호 읽기":"읽기 시작"})})]})]});return t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📚"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-2",children:"동창회보가 준비 중입니다"}),e.jsx("p",{className:"text-gray-500",children:"곧 동창회 소식지를 만나보실 수 있습니다."})]}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:(s==null?void 0:s.title)||"서울사대부고 동창회보"}),e.jsx("p",{className:"text-lg text-gray-600 mb-4",children:(s==null?void 0:s.subtitle)||"Seoul National University High School Alumni Magazine"}),e.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:(s==null?void 0:s.description)||"서울대학교 사범대학 부설고등학교 동창회에서 발행하는 공식 소식지입니다."})]}),e.jsx("div",{className:"mb-8 bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"연도:"}),e.jsxs("select",{value:a,onChange:l=>r(l.target.value==="all"?"all":Number(l.target.value)),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"전체"}),d.map(l=>e.jsxs("option",{value:l,children:[l,"년"]},l))]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"계절:"}),e.jsxs("select",{value:o,onChange:l=>i(l.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"전체"}),u.map(l=>e.jsxs("option",{value:l,children:[l,"호"]},l))]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["총 ",n.length,"권의 동창회보"]})]})}),c&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx(T,{className:"mr-2 text-blue-500"}),"최신호"]}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx(h,{magazine:c,isLatest:!0})})]}),y.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"추천 동창회보"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(l=>e.jsx(h,{magazine:l,isFeatured:!0},l.id))})]}),g.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"전체 동창회보"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:g.map(l=>e.jsx(h,{magazine:l},l.id))})]})]})},st=()=>{const t=U(),{currentBook:s,currentMagazine:a,viewerState:r,nextPage:o,prevPage:i,goToPage:n,zoomIn:d,zoomOut:u,resetZoom:c,updateViewerState:y}=w(),[g,p]=m.useState(!1),[h,l]=m.useState(""),x=a||s,N=j=>{j.preventDefault();const f=parseInt(h);f&&f>=1&&f<=r.totalPages&&n(f),p(!1),l("")},S=()=>{document.fullscreenElement?(document.exitFullscreen(),y({isFullscreen:!1})):(document.documentElement.requestFullscreen(),y({isFullscreen:!0}))};return x?e.jsxs("div",{className:"bg-gray-800 text-white p-4 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>t("/"),className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[e.jsx(X,{size:20}),e.jsx("span",{children:"홈으로"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{size:20,className:"text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold",children:x.title}),e.jsx("span",{className:"text-gray-400",children:a?`${a.year}년 ${a.season}호`:`by ${x.author||"작가 미상"}`})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:[Math.round(r.scale*100),"%"]}),e.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-gray-600",children:[e.jsx("button",{onClick:()=>w.getState().setViewMode("single"),className:`p-2 transition-colors ${r.viewMode==="single"?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600"}`,title:"단일 페이지 보기",children:e.jsx(F,{size:20})}),e.jsx("button",{onClick:()=>w.getState().setViewMode("double"),className:`p-2 transition-colors ${r.viewMode==="double"?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600"}`,title:"2페이지 보기",children:e.jsx(We,{size:20})})]}),e.jsx("button",{onClick:S,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",title:r.isFullscreen?"전체화면 끄기":"전체화면",children:r.isFullscreen?e.jsx(Ke,{size:20}):e.jsx(Ze,{size:20})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:i,disabled:r.currentPage<=1,className:"p-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",title:"이전 페이지 (←)",children:e.jsx(Ae,{size:20})}),g?e.jsxs("form",{onSubmit:N,className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",min:"1",max:r.totalPages,value:h,onChange:j=>l(j.target.value),className:"w-16 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-center text-white",placeholder:r.currentPage.toString(),autoFocus:!0,onBlur:()=>p(!1)}),e.jsxs("span",{className:"text-gray-400",children:["/ ",r.totalPages]})]}):e.jsx("button",{onClick:()=>{p(!0),l(r.currentPage.toString())},className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",title:"페이지로 이동",children:e.jsx("span",{className:"font-mono",children:r.viewMode==="double"&&r.currentPage+1<=r.totalPages?`${r.currentPage}-${r.currentPage+1} / ${r.totalPages}`:`${r.currentPage} / ${r.totalPages}`})}),e.jsx("button",{onClick:o,disabled:r.currentPage>=r.totalPages,className:"p-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",title:"다음 페이지 (→)",children:e.jsx(Te,{size:20})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:u,disabled:r.scale<=.5,className:"p-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",title:"축소",children:e.jsx(Qe,{size:20})}),e.jsx("button",{onClick:c,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-sm",title:"원본 크기",children:e.jsx(Ye,{size:16})}),e.jsx("button",{onClick:d,disabled:r.scale>=3,className:"p-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",title:"확대",children:e.jsx(Je,{size:20})})]})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-400 text-center",children:"키보드: ←→ 페이지 이동, Space 다음 페이지, Esc 홈으로, Home/End 처음/끝 페이지, Ctrl+1/2 보기모드 전환"})]}):null};$.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${$.version}/build/pdf.worker.min.js`;const at=()=>{const{bookId:t}=ae(),s=U(),{books:a,magazines:r,currentBook:o,currentMagazine:i,viewerState:n,setCurrentBook:d,setCurrentMagazine:u,updateViewerState:c}=w(),[y,g]=m.useState(800),[,p]=m.useState(600),h=i||o;m.useEffect(()=>{if(t){const f=r.find(P=>P.id===t);if(f){u(f);return}const b=a.find(P=>P.id===t);if(b){d(b);return}s("/")}},[t,a,r,d,u,s]);const l=m.useCallback(f=>{if(f){const b=()=>{const V=f.getBoundingClientRect();g(V.width-40),p(V.height-40)};b();const P=new ResizeObserver(b);return P.observe(f),()=>P.disconnect()}},[]);m.useEffect(()=>{const f=()=>{const b=window.innerWidth;b>=1920?n.viewMode==="single"&&c({viewMode:"double"}):b<1024&&n.viewMode==="double"&&c({viewMode:"single"})};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[n.viewMode,c]);const x=({numPages:f})=>{c({totalPages:f,isLoading:!1,currentPage:1})},N=f=>{console.error("PDF 로드 에러:",f),c({isLoading:!1})};m.useEffect(()=>{const f=b=>{switch(b.key){case"ArrowLeft":case"ArrowUp":b.preventDefault(),w.getState().prevPage();break;case"ArrowRight":case"ArrowDown":case" ":b.preventDefault(),w.getState().nextPage();break;case"Home":b.preventDefault(),w.getState().goToPage(1);break;case"End":b.preventDefault(),w.getState().goToPage(n.totalPages);break;case"Escape":s("/");break;case"1":b.ctrlKey&&(b.preventDefault(),w.getState().setViewMode("single"));break;case"2":b.ctrlKey&&(b.preventDefault(),w.getState().setViewMode("double"));break}};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[s,n.totalPages]);const S=()=>{const f=n.scale;return n.viewMode==="double"?f*.8:f},j=()=>n.viewMode==="double"?Math.min(y/2-20,600):Math.min(y,800);return h?e.jsxs("div",{className:"h-screen flex flex-col bg-gray-900",children:[e.jsx(st,{}),e.jsx("div",{ref:l,className:"flex-1 overflow-auto bg-gray-800 p-4",children:e.jsx("div",{className:"flex justify-center min-h-full",children:e.jsx(le,{file:h.pdfPath,onLoadSuccess:x,onLoadError:N,loading:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"PDF 로딩중..."})]}),error:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-400 mb-4",children:"PDF를 로드할 수 없습니다."}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["파일 경로: ",h.pdfPath]})]}),children:n.viewMode==="single"?e.jsx("div",{className:"flex flex-col items-center space-y-4",children:e.jsx(R,{pageNumber:n.currentPage,scale:S(),width:j(),loading:e.jsx("div",{className:"bg-gray-200 animate-pulse rounded-lg",style:{width:j(),height:j()*1.4}}),className:"shadow-2xl rounded-lg overflow-hidden"})}):e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"flex space-x-4 justify-center",children:[n.currentPage<=n.totalPages&&e.jsx(R,{pageNumber:n.currentPage,scale:S(),width:j(),loading:e.jsx("div",{className:"bg-gray-200 animate-pulse rounded-lg",style:{width:j(),height:j()*1.4}}),className:"shadow-2xl rounded-lg overflow-hidden"}),n.currentPage+1<=n.totalPages&&e.jsx(R,{pageNumber:n.currentPage+1,scale:S(),width:j(),loading:e.jsx("div",{className:"bg-gray-200 animate-pulse rounded-lg",style:{width:j(),height:j()*1.4}}),className:"shadow-2xl rounded-lg overflow-hidden"})]}),e.jsx("div",{className:"text-center text-gray-400 text-sm",children:n.currentPage+1<=n.totalPages?`${n.currentPage} - ${n.currentPage+1} / ${n.totalPages}`:`${n.currentPage} / ${n.totalPages}`})]})})})})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"문서를 로딩중..."})]})})};$.GlobalWorkerOptions.workerSrc=new URL("/snubugo/assets/pdf.worker.min-feabdf30.js",self.location).toString();const rt=async(t,s=300,a=400)=>(console.warn("generatePdfThumbnail 함수가 호출되었지만 비활성화되어 있습니다. 미리 준비된 썸네일을 사용하세요."),console.warn(`비활성화된 호출: ${t}`),null),nt=async t=>{try{const s=encodeURI(t);console.log(`PDF 정보 추출 시도: ${s}`);const a=await fetch(s,{method:"HEAD"});if(!a.ok)throw new Error(`PDF 파일을 찾을 수 없습니다: ${t} (${a.status})`);const o=await $.getDocument({url:s,verbosity:0}).promise,n=(await o.getMetadata()).info;return console.log(`PDF 정보 추출 완료: ${t}`,{pages:o.numPages,title:n==null?void 0:n.Title}),{numPages:o.numPages,title:(n==null?void 0:n.Title)||null,author:(n==null?void 0:n.Author)||null,subject:(n==null?void 0:n.Subject)||null,creator:(n==null?void 0:n.Creator)||null,producer:(n==null?void 0:n.Producer)||null,creationDate:(n==null?void 0:n.CreationDate)||null,modificationDate:(n==null?void 0:n.ModDate)||null}}catch(s){return console.error(`PDF 정보 추출 실패 (${t}):`,s),null}},lt=()=>{const[t,s]=m.useState(""),[a,r]=m.useState(!1),o=async()=>{r(!0),s(`테스트 시작...
`);const i="/pdfs/test-131.pdf";try{s(d=>d+`1. 파일 접근 테스트...
`);const n=await fetch(i,{method:"HEAD"});if(s(d=>d+`   - 상태 코드: ${n.status}
`),n.ok){s(c=>c+`   - ✅ 파일 접근 성공
`),s(c=>c+`2. PDF 정보 추출 테스트...
`);const d=await nt(i);s(c=>c+`   - 페이지 수: ${(d==null?void 0:d.numPages)||"알 수 없음"}
`),s(c=>c+`   - 제목: ${(d==null?void 0:d.title)||"알 수 없음"}
`),s(c=>c+`3. 썸네일 생성 테스트...
`);const u=await rt(i);u?(s(c=>c+`   - ✅ 썸네일 생성 성공
`),s(c=>c+`   - 썸네일 크기: ${u.length} 문자
`)):s(c=>c+`   - ❌ 썸네일 생성 실패
`)}else s(d=>d+`   - ❌ 파일 접근 실패
`)}catch(n){s(d=>d+`❌ 오류 발생: ${n}
`)}r(!1)};return e.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"PDF 테스트"}),e.jsx("button",{onClick:o,disabled:a,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:a?"테스트 중...":"PDF 테스트 실행"}),t&&e.jsx("pre",{className:"mt-4 p-4 bg-white rounded border text-sm whitespace-pre-wrap",children:t})]})},ot=()=>{const{currentBook:t,currentMagazine:s,settings:a}=w(),r=s||t;return e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(k,{to:"/",className:"flex items-center space-x-3 text-blue-600 hover:text-blue-700",children:[e.jsx(O,{size:28}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:(a==null?void 0:a.title)||"서울사대부고 동창회보"}),e.jsx("p",{className:"text-xs text-gray-500",children:(a==null?void 0:a.subtitle)||"Alumni Magazine"})]})]}),e.jsxs("nav",{className:"flex items-center space-x-6",children:[r&&e.jsxs("div",{className:"hidden md:block text-sm text-gray-600",children:[e.jsx("span",{className:"text-gray-500",children:"현재 읽는 중:"}),e.jsx("span",{className:"font-medium ml-2",children:s?`${s.year}년 ${s.season}호`:r.title})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(k,{to:"/",className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(X,{size:20}),e.jsx("span",{className:"hidden sm:inline",children:"동창회보"})]}),e.jsxs(k,{to:"/books",className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(qe,{size:20}),e.jsx("span",{className:"hidden sm:inline",children:"기타 도서"})]})]})]})]})})})};function it(){const{setBooks:t,setMagazines:s,setSettings:a}=w(),[r,o]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const d=await(await fetch("/pdf-ebook-viewer/magazines.json")).json();a(d.settings),s(d.magazines);try{const c=await(await fetch("/pdf-ebook-viewer/metadata.json")).json();c.books&&t(c.books)}catch{console.log("metadata.json 파일이 없습니다 (동창회보만 사용)"),t([])}}catch(n){console.error("데이터 로드 실패:",n)}finally{o(!1)}})()},[t,s,a]),r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"동창회보 로딩 중..."}),e.jsx("p",{className:"text-gray-500",children:"잠시만 기다려주세요."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ot,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs(re,{children:[e.jsx(E,{path:"/",element:e.jsx(tt,{})}),e.jsx(E,{path:"/books",element:e.jsx(et,{})}),e.jsx(E,{path:"/test",element:e.jsx(lt,{})}),e.jsx(E,{path:"/viewer/:bookId",element:e.jsx(at,{})})]})})]})}$.GlobalWorkerOptions.workerSrc=new URL("/snubugo/assets/pdf.worker.min-feabdf30.js",self.location).toString();L.createRoot(document.getElementById("root")).render(e.jsx(W.StrictMode,{children:e.jsx(ne,{basename:"/pdf-ebook-viewer",children:e.jsx(it,{})})}));
